<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">



<ul id="index">
  <li><a href="#SPREADSHEETS">SPREADSHEETS</a>
    <ul>
      <li><a href="#Variables">Variables</a></li>
      <li><a href="#Subroutines">Subroutines</a></li>
    </ul>
  </li>
</ul>

<h1 id="SPREADSHEETS">SPREADSHEETS</h1>

<pre><code>  This script, located in /cgi-bin/csv, send a Comma Separated Value file to the user&#39;s browser. if the HTTP
 GET query string matches the regular expressions /vehicle/ or /reservation/, the database tables &#39;fleet&#39; or
 &#39;schedule&#39;, respectively, are returned as a spreadsheet. In case of bad input. A Status: 400 is returned.</code></pre>

<h2 id="Variables">Variables</h2>

<pre><code>  This script requires variables to store the database table in memory, an object to print them, and a couple
 of intermediary variables to deal with cookies and credentials.</code></pre>

<dl>

<dt id="db_credentials">@db_credentials</dt>
<dd>

<pre><code>  The @db_credentials variable contains the database identifier string (see Perl&#39;s DBI module documentation),
 username, and password. For the most part, this can be simply passed to the connection subroutine without
 modification.</code></pre>

</dd>
<dt id="cookies">%cookies</dt>
<dd>

<pre><code>  This is a hash of a users cookies. All cookies required for authentication have been properly parsed, but
 others may not be, as some special characters are not escaped. Be careful when extending the program
 using this variable.</code></pre>

</dd>
<dt id="table">$table</dt>
<dd>

<pre><code>  The database table is pulled out with DBI, and stored in this reference to an array of arrays refs (yeah, it&#39;s
 a little confusing to work with this guy).</code></pre>

</dd>
<dt id="csv">$csv</dt>
<dd>

<pre><code>  This variable is a Text::CSV object. The $table variable is pumped into $csv, which allows us to print to a
 CSV file.</code></pre>

</dd>
</dl>

<h2 id="Subroutines">Subroutines</h2>

<pre><code>  Only validation is done through a subroutine. All other functionality is accomplished in the main body.</code></pre>

<dl>

<dt id="validate">&amp;validate</dt>
<dd>

<pre><code>  This subroutine simply checks whether or not a user is logged in, and returns false if not.</code></pre>

</dd>
</dl>


</body>

</html>


